{"version":3,"sources":["playing.js"],"names":["MIN_LENGTH","cc","Class","extends","Component","properties","playingScene","Node","start","on","event","startPoint","getLocation","touchEnd","endPoint","vec","sub","mag","Math","abs","x","y","director","loadScene","log"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMA,aAAa,EAAnB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACAC,sBAAcL,GAAGM;AACjB;AANQ,KAHP;;AAYL;;AAEA;;AAEAC,SAhBK,mBAgBG;AAAA;;AACJ,aAAKF,YAAL,CAAkBG,EAAlB,CAAqB,YAArB,EAAmC,UAACC,KAAD,EAAW;AAC1C,kBAAKC,UAAL,GAAkBD,MAAME,WAAN,EAAlB;AACH,SAFD;;AAIA,aAAKN,YAAL,CAAkBG,EAAlB,CAAqB,UAArB,EAAiC,UAACC,KAAD,EAAW;AACxC,kBAAKG,QAAL,CAAcH,KAAd;AACH,SAFD;;AAIA,aAAKJ,YAAL,CAAkBG,EAAlB,CAAqB,aAArB,EAAoC,UAACC,KAAD,EAAW;AAC3C,kBAAKG,QAAL,CAAcH,KAAd;AACH,SAFD;AAGH,KA5BI;AA+BLG,YA/BK,oBA+BIH,KA/BJ,EA+BW;AACZ,aAAKI,QAAL,GAAgBJ,MAAME,WAAN,EAAhB;AACA;AACA,YAAIG,MAAM,KAAKD,QAAL,CAAcE,GAAd,CAAkB,KAAKL,UAAvB,CAAV;AACA;AACA,YAAII,IAAIE,GAAJ,KAAYjB,UAAhB,EAA4B;AACxB;AACA,gBAAIkB,KAAKC,GAAL,CAASJ,IAAIK,CAAb,IAAkBF,KAAKC,GAAL,CAASJ,IAAIM,CAAb,CAAtB,EAAuC;AACnC,oBAAIN,IAAIK,CAAJ,GAAQ,CAAZ,EAAe;AACXnB,uBAAGqB,QAAH,CAAYC,SAAZ,CAAsB,UAAtB;AACAtB,uBAAGuB,GAAH,CAAO,MAAP;AACAvB,uBAAGuB,GAAH,CAAO,MAAP;AACH,iBAJD,MAIO;AACHvB,uBAAGuB,GAAH,CAAO,OAAP;AACH;AACJ,aARD,MAQO;AACH,oBAAIT,IAAIM,CAAJ,GAAQ,CAAZ,EAAe;AACXpB,uBAAGuB,GAAH,CAAO,IAAP;AACH,iBAFD,MAEO;AACHvB,uBAAGuB,GAAH,CAAO,MAAP;AACH;AACJ;AACJ;AACJ;AAtDI;AAuDL;AAvDJ","file":"playing.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\nconst MIN_LENGTH = 50;\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // startButton: cc.Button,\r\n        // setttingButton: cc.Button,\r\n        // rankingButton: cc.Button,\r\n        // startScene: cc.Node,\r\n        playingScene: cc.Node,\r\n        // gameOverScene: cc.Node\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.playingScene.on(\"touchstart\", (event) => {\r\n            this.startPoint = event.getLocation();\r\n        });\r\n\r\n        this.playingScene.on(\"touchend\", (event) => {\r\n            this.touchEnd(event);\r\n        });\r\n\r\n        this.playingScene.on(\"touchcancel\", (event) => {\r\n            this.touchEnd(event);\r\n        });\r\n    },\r\n\r\n\r\n    touchEnd(event) {\r\n        this.endPoint = event.getLocation();\r\n        // var vec = cc.pSub(this.startPoint, this.endPoint);\r\n        var vec = this.endPoint.sub(this.startPoint);\r\n        // if (cc.pLength(vec) > MIN_LENGTH) {\r\n        if (vec.mag() > MIN_LENGTH) {\r\n            // horizontal\r\n            if (Math.abs(vec.x) > Math.abs(vec.y)) {\r\n                if (vec.x < 0) {\r\n                    cc.director.loadScene(\"gameOver\");\r\n                    cc.log(\"left\");\r\n                    cc.log(\"游戏结束\");\r\n                } else {\r\n                    cc.log(\"right\");\r\n                }\r\n            } else {\r\n                if (vec.y > 0) {\r\n                    cc.log(\"up\");\r\n                } else {\r\n                    cc.log(\"down\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}